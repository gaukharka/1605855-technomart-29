const contactLink = document.querySelector(".button-contact"), contactPopup = document.querySelector(".modal-contact"), contactForm = contactPopup.querySelector(".modal-form"), contactClose = contactPopup.querySelector(".close-contact"), contactName = contactPopup.querySelector("#name-contact"), contactEmail = contactPopup.querySelector("#email-contact"), contactMessage = contactPopup.querySelector("#subject-contact"); let isStorageSupport = !0, storageName = "", storageEmail = ""; try { storageName = localStorage.getItem("name"), storageEmail = localStorage.getItem("email") } catch (t) { isStorageSupport = !1 } contactLink.addEventListener("click", function (t) { t.preventDefault(), contactPopup.classList.add("modal-show") }), contactClose.addEventListener("click", function (t) { t.preventDefault(), contactPopup.classList.remove("modal-show"), contactPopup.offsetWidth = contactPopup.offsetWidth, contactPopup.classList.remove("modal-error") }), contactForm.addEventListener("submit", function (t) { contactName.value && contactEmail.value && contactMessage.value ? isStorageSupport && (localStorage.setItem("name", contactName.value), localStorage.setItem("email", contactEmail.value)) : (t.preventDefault(), contactPopup.classList.add("modal-error")) }), window.addEventListener("keydown", function (t) { 27 === t.keyCode && contactPopup.classList.contains("modal-show") && (t.preventDefault(), contactPopup.classList.remove("modal-show"), contactPopup.classList.remove("modal-error")) });